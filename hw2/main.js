var TextArray=[
"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas posuere nunc nec elit sagittis, eget aliquet eros mollis. "
+"Suspendisse sollicitudin posuere faucibus. Proin blandit metus sed dictum fringilla. Class aptent taciti sociosqu ad litora "
+"torquent per conubia nostra, per inceptos himenaeos. Nunc non dignissim justo, a fringilla massa. Suspendisse venenatis arcu ex. "
+"Vestibulum id pretium justo. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos." 
+"Pellentesque ut felis imperdiet, consequat nisl et, molestie mauris.",

"Maecenas blandit pretium quam. Vestibulum nibh nisi, maximus in turpis ac, interdum placerat urna. Quisque quis malesuada orci, "
+"sit amet gravida turpis. Integer tristique risus ligula, eget molestie elit sagittis quis. In hac habitasse platea dictumst. "
+"Integer condimentum augue at leo aliquet, et viverra quam luctus. Integer nec rhoncus urna.",

"Donec consequat ornare velit, a interdum ligula fermentum sed. Suspendisse at sollicitudin mauris, eget viverra metus. "
+"Integer ut suscipit lorem. Sed quis malesuada tortor. Pellentesque tempus velit a justo lobortis feugiat. Ut ac condimentum justo, "
+"eu faucibus urna. Cras commodo metus a rutrum eleifend. Etiam aliquet mattis erat a lacinia. Pellentesque augue libero, "
+"laoreet nec facilisis vitae, molestie a velit. Morbi tincidunt vestibulum ex, vitae vulputate ante vestibulum a.",

"Morbi dolor mauris, sagittis sit amet commodo ut, mollis ut nisl. In facilisis sit amet justo in tempor. Morbi vitae sem pellentesque, "
+"tristique tellus vitae, rutrum massa. Vivamus commodo nulla eget elit volutpat mattis. Maecenas ac sagittis diam. Integer malesuada "
+"ultrices nisi, ut pharetra tortor consectetur vel. Ut neque ligula, dictum sed mollis vel, ultricies accumsan elit.",

"Vivamus malesuada volutpat justo quis malesuada. Aenean auctor iaculis mauris, quis ultrices nisi sollicitudin sit amet. Nunc cursus, "
+"ex nec vehicula bibendum, nisl dui ullamcorper odio, id auctor mi ante in lorem. Maecenas rutrum sollicitudin lacus vel fermentum. "
+"Maecenas ac pharetra massa. Sed hendrerit tellus nec sapien iaculis, et fringilla justo vulputate. Vivamus ultrices massa sit amet "
+"elit vestibulum volutpat. Quisque vel euismod elit, ut lobortis erat. Cras convallis mi sed egestas molestie. Curabitur porttitor "
+"velit tincidunt lobortis tincidunt. Proin ipsum odio, tempor non metus vitae, auctor tincidunt velit. Vivamus sit amet varius magna, "
+"sit amet condimentum libero. Curabitur et auctor dui, at mollis orci. Vivamus convallis diam ac fermentum varius.",

"Sed ullamcorper sapien pharetra sem gravida, id gravida eros commodo. Class aptent taciti sociosqu ad litora torquent per conubia "
+"nostra, per inceptos himenaeos. Donec sed euismod justo. Vivamus gravida volutpat imperdiet. Aliquam tincidunt fermentum dui, sit "
+"amet auctor est feugiat quis. Aenean vehicula mauris vitae nulla ornare semper. Nunc id pulvinar nisi. Maecenas interdum cursus tempor. "
+"Nullam molestie ex in diam fringilla, pellentesque pretium eros vulputate. Donec quis augue lobortis, molestie tortor nec, faucibus "
+"ligula. Sed vel ultrices tellus, volutpat porttitor elit.",

"Mauris rhoncus eget risus id viverra. Phasellus vulputate risus orci, non fringilla nisi faucibus ac. Pellentesque eget nisi vitae "
+"sapien viverra fermentum a non justo. Pellentesque dignissim consequat est, a feugiat mauris aliquam quis. Curabitur a ligula a magna "
+"tincidunt lacinia. Donec cursus tempor felis, vel malesuada libero blandit vel. In nec iaculis turpis. Integer ut suscipit nibh. "
+"Aliquam erat volutpat. Sed libero nisi, posuere non varius ac, blandit sed libero. Phasellus vel mi pulvinar, ultrices ex vel, "
+"cursus mi. Suspendisse eleifend diam feugiat lectus tristique, id euismod nisi accumsan. Nam consectetur dolor a lacinia tempus. "
+"Nullam malesuada metus id massa suscipit, vel fringilla massa blandit. Nam nec nunc a tortor vehicula fermentum sit amet eget purus.",

"Integer malesuada eget metus eget tincidunt. Mauris dignissim mauris eu orci cursus, et posuere urna fermentum. Nunc dictum nulla ut "
+"nunc bibendum dictum. Praesent pretium sem justo. Aliquam eget bibendum diam, sit amet rhoncus quam. Morbi massa risus, pulvinar vitae "
+"scelerisque sed, vestibulum id ante. Ut placerat, mi sit amet ultrices fringilla, justo magna bibendum lectus, quis commodo lorem augue "
+"ac orci.",

"Aliquam pellentesque quis tortor ut dapibus. Aenean congue posuere erat ac interdum. Aliquam tempus vitae nibh vel porta. Integer in "
+"elit tincidunt, posuere felis id, ornare urna. Sed gravida, nibh ut blandit venenatis, dolor purus hendrerit mauris, vel sagittis "
+"justo lorem in nisl. Nullam velit nunc, ullamcorper ut aliquam in, tincidunt sit amet lectus. Suspendisse viverra facilisis consequat. "
+"Sed porttitor dolor lectus, non placerat elit dapibus non. Nullam suscipit rutrum metus, et imperdiet elit congue id. In tempus nec "
+"erat et dictum. Cras aliquet, ligula et efficitur luctus, lectus erat euismod magna, eu tincidunt augue metus ut dui. Donec dignissim "
+"non lacus vitae sagittis. Quisque ornare velit in libero condimentum, nec mattis nisl maximus. Etiam rhoncus, ligula vitae hendrerit "
+"rhoncus, magna nulla ornare dolor, aliquam pellentesque dolor erat quis arcu.",

"Pellentesque id aliquet quam. Vestibulum id lectus lacus. Donec mollis ante ut suscipit posuere. Aliquam sagittis augue eget sodales "
+"suscipit. Nunc non commodo lacus. Nam viverra gravida pulvinar. Nullam ultrices in ligula quis scelerisque. Proin quis sem nec neque "
+"tempor eleifend. Nunc porttitor libero ut metus dignissim lobortis quis id enim."
];

var imgArr = new Array();;

imgArr[0]=[
	"photos/set1/Bottles.jpg",
	"photos/set1/Circus.jpg",
    "photos/set1/Chestnut.jpg",
    "photos/set1/Copper.jpg",
    "photos/set1/Coronet.jpg"
];

imgArr[1]=[
	"photos/set2/DesiccationCracks.jpg",
	"photos/set2/FairyLights.jpg",
    "photos/set2/Dew.jpg",
    "photos/set2/ForrestTrail.jpg",
    "photos/set2/LaceFlower.jpg"
];

imgArr[2]=[
	"photos/set3/Floral.jpg",
	"photos/set3/Glass.jpg",
    "photos/set3/Lake.jpg",
    "photos/set3/Lighthouse.jpg",
    "photos/set3/MonasteryGarden.jpg"
];

imgArr[3]=[
	"photos/set4/Goemetry.jpg",
	"photos/set4/Map.jpg",
    "photos/set4/Mushroom.jpg",
    "photos/set4/Ocean.jpg",
    "photos/set4/Orchid.jpg"
];

imgArr[4]=[
	"photos/set5/Menu.jpg",
	"photos/set5/Mosque.jpg",
    "photos/set5/PickUpSticks.jpg",
    "photos/set5/Raindrops.jpg",
    "photos/set5/Seed.jpg"
];

imgArr[5]=[
	"photos/set6/RedDots.jpg",
	"photos/set6/SeedGreen.jpg",
    "photos/set6/Stones.jpg",
    "photos/set6/StopMotion.jpg",
    "photos/set6/WaterDrops.jpg"
];

imgArr[6]=[
	"photos/set7/Stripes.jpg",
	"photos/set7/Utrecht.jpg",
    "photos/set7/Waterfall.jpg",
    "photos/set7/Waterfalls.jpg",
    "photos/set7/White.jpg"
];

//chooseImage tells which elements in the table have the image.
var chooseImage=[0,2,3,5,7,8,9];

//creates an image object for the table 
function makeImage(e_img,e_table){
    var img = new Image();
	var index_num=chooseImage.indexOf(e_table);
	if(index_num >= 0){
		img.src=imgArr[index_num][e_img];
        //put image to div so that the image elements could append the text element when we create the table.
        var contentDiv = document.createElement("DIV");
        contentDiv.appendChild(img);
	}
	return contentDiv
}

//replace the old image with the new image
function change(div,index){
    var oldImage= div.getElementsByTagName("img")[0];
    div.removeChild(oldImage);
    //choose image randomly
    var newImage = makeImage(Math.floor(Math.random()*(imgArr[index].length)),chooseImage[index]);
    div.appendChild(newImage.getElementsByTagName("img")[0]);
}

//create the table element
function addTable(){
	for(var num=0;num<TextArray.length;num++){
    	if(num%2==0){
            row = document.createElement("tr");
            var col1 = document.createElement("th");
            var x = document.createTextNode(TextArray[num]);
            var imag = makeImage(0,num);
            col1.append(!imag?"":imag);
            col1.appendChild(x);
            row.appendChild(col1);
        } else {
            var col2 = document.createElement("th");
            var y = document.createTextNode(TextArray[num]);
            var imag = makeImage(0,num);
            col2.append(!imag?"":imag);
            col2.appendChild(y);
            row.appendChild(col2);
            document.getElementById("feed").appendChild(row);
        }
    } 
}

//change picture periodically. Create a button to stop or start the process.
function addInterval(div,index){
    var button=document.createElement("BUTTON");
    button.innerHTML = "Stop";
    div.insertBefore(button, div.childNodes[0]);
    var timer = setInterval(function(){change(div,index)}, Math.floor(Math.random()*4000)+1000);
    //add the button to control the process.
    button.onclick = function(){
        if (button.innerHTML == "Stop"){
            clearInterval(timer);
            button.innerHTML = "Start";
        }else{
            button.innerHTML = "Stop";
            timer = setInterval(function(){change(div,index)}, Math.floor(Math.random()*4000)+1000);
        }
    }
}

window.onload = function(){
    addTable();
    //all div sections store the image elements. Call div to change the image periodically.
    var divs = Array.prototype.slice.call(document.getElementsByTagName("div"));
    divs.forEach(addInterval);
};

